(this["webpackJsonpicaddy-frontend"]=this["webpackJsonpicaddy-frontend"]||[]).push([[0],{117:function(e,a,t){},118:function(e,a,t){},123:function(e,a,t){},126:function(e,a,t){},127:function(e,a,t){},128:function(e,a,t){},129:function(e,a,t){},130:function(e,a,t){},131:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(37),c=t.n(l),o=t(8),s=t(36),i=t(24),u=t(15),m=t.n(u),d=(t(96),t(10)),v=(t(97),function(e){var a=e.as,t=void 0===a?"button":a,n=e.className,l=e.fluid,c=e.shadow,o=e.type,s=void 0===o?"button":o,i=Object(d.a)(e,["as","className","fluid","shadow","type"]);return r.a.createElement(t,Object.assign({className:m()("button",{"button--fluid":l},{"button--shadow":c},n),type:s},i))}),b=(t(98),function(e){var a=e.className,t=Object(d.a)(e,["className"]);return r.a.createElement("div",Object.assign({className:m()("card border-0",a)},t))}),p=(t(99),function(e){var a=e.className,t=Object(d.a)(e,["className"]);return r.a.createElement("div",Object.assign({className:m()("container",a)},t))}),f=t(83),h=t.n(f),E=function(e){var a=e.as,t=void 0===a?"h1":a,n=Object(d.a)(e,["as"]);return r.a.createElement(t,n)},g=t(84),w=t.n(g).a.create({baseURL:"https://icaddy-dev.herokuapp.com"});w.interceptors.request.use((function(e){var a=localStorage.getItem("token");return a&&(e.headers.Authorization=a),e}),(function(e){return Promise.reject(e)}));var N=w,y=t(85),j=t.n(y),O=(t(117),t(118),{dashboard:"/",login:"/login",logShot:"/log-shot",register:"/register",logout:"/logout"}),C={login:"/login",register:"/register",shots:"/shots",shotAggregate:"/shots/aggregate"},k=function(){return r.a.createElement("nav",{className:"nav d-flex"},r.a.createElement(o.c,{activeClassName:"nav__link--active",className:"nav__link mr-2",to:O.dashboard},"Dashboard"),r.a.createElement(o.c,{activeClassName:"nav__link--active",className:"nav__link",to:O.logout},"Logout"))},x=function(e){return r.a.createElement("div",{className:"layout"},r.a.createElement("div",{className:"layout__top-banner"},r.a.createElement(p,{className:"layout__nav pt-5"},r.a.createElement(k,null))),r.a.createElement(p,{className:"layout__content p-3 mb-3"},e.children))},S=(t(123),function(){return r.a.createElement("div",{className:"loader"},r.a.createElement("div",{className:"loader-spinner"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))}),P=t(19),_=t.n(P),L=t(29);var q=function(){return N.get(C.shotAggregate)},I=function(){var e,a=function(e){var a=Object(n.useState)(),t=Object(i.a)(a,2),r=t[0],l=t[1],c=Object(n.useState)(),o=Object(i.a)(c,2),s=o[0],u=o[1],m=Object(n.useState)(!1),d=Object(i.a)(m,2),v=d[0],b=d[1];return Object(n.useEffect)((function(){var a=!1;return Object(L.a)(_.a.mark((function t(){var n;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u(void 0),b(!0),t.prev=2,t.next=5,e();case 5:n=t.sent,a||l(n),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),a||u(t.t0);case 12:return t.prev=12,a||b(!1),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[2,9,12,15]])})))(),function(){a=!0}}),[e]),[r,{error:s,isLoading:v}]}(q),t=Object(i.a)(a,2),l=t[0],c=void 0===l?{}:l,s=t[1].isLoading,u=null===c||void 0===c?void 0:null===(e=c.data)||void 0===e?void 0:e.data,d=!!(null===u||void 0===u?void 0:u.length)&&!s;return r.a.createElement(x,null,r.a.createElement("div",{className:"pb-4 mb-5"},r.a.createElement(b,null,s?r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(S,null)):d?null===u||void 0===u?void 0:u.map((function(e,a){return r.a.createElement("div",{className:m()("d-flex align-items-center justify-content-between p-4 font-weight-bold",{"border-top":a>0}),key:e._id},r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement("img",{alt:"golf club",className:"img--iron mr-3",src:j.a}),r.a.createElement("span",{className:"text-nowrap"},e.long_name)),r.a.createElement("div",null,e.average,r.a.createElement("span",{className:"dashboard__units"}," yds")))})):r.a.createElement("div",{className:"text-center mt-3 p-4 p-md-5"},r.a.createElement("img",{className:"img--golf-flag",src:h.a,alt:"golf flag and ball"}),r.a.createElement("div",{className:"row justify-content-center my-4"},r.a.createElement("div",{className:"col-auto col-md-9"},r.a.createElement(E,{as:"h3",className:"mb-3"},"You haven't logged any shots, yet."))),r.a.createElement(v,{as:o.b,to:O.logShot},"Log Shot")))),r.a.createElement(p,{className:"pb-4 fixed-bottom"},d&&r.a.createElement(v,{as:o.b,to:O.logShot,fluid:!0,shadow:!0},"Log shot")))},T=t(51),V=t(7),A=(t(126),function(e){var a=e.className,t=Object(d.a)(e,["className"]);return r.a.createElement("div",Object.assign({className:m()("form-error",a)},t))}),B=(t(127),function(e){var a=e.className,t=e.type,n=void 0===t?"text":t,l=Object(d.a)(e,["className","type"]);return r.a.createElement("input",Object.assign({className:m()("input",a),type:n},l))}),D=(t(128),function(e){return r.a.createElement("div",{className:"login-register-layout d-flex justify-content-center align-items-center p-3"},r.a.createElement("div",{className:"login-register-layout__content"},r.a.createElement(b,{className:"p-4"},e.children)))}),F=r.a.createContext({}),M=function(e){var a=Object(n.useState)(localStorage.getItem("token")),t=Object(i.a)(a,2),l=t[0],c=t[1];return r.a.createElement(F.Provider,{value:{token:l,setToken:c}},e.children)},R=F,J=function(e){var a=Object(n.useContext)(R),t=a.token,l=a.setToken,c=Object(T.a)({initialValues:{email:"",password:""},onSubmit:function(){var a=Object(L.a)(_.a.mark((function a(t,n){var r,c;return _.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=n.setErrors,a.prev=1,a.next=4,N.post(C.login,{email:t.email,password:t.password});case 4:c=a.sent,localStorage.setItem("token",c.data.token),l(c.data.token),e.history.push(O.dashboard),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),r({password:"There was a problem logging you in, please verify your email and password"});case 13:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e,t){return a.apply(this,arguments)}}(),validateOnChange:!1,validationSchema:V.c({email:V.e().email("Please enter a valid email address").required("Email is required"),password:V.e().required(" Password is required")})}),i=c.errors,u=c.handleChange,m=c.handleSubmit,d=c.values;return t?r.a.createElement(s.a,{to:O.dashboard}):r.a.createElement(D,null,r.a.createElement("form",{onSubmit:m},r.a.createElement("div",{className:"mb-3"},r.a.createElement(B,{name:"email",onChange:u,placeholder:"Email",value:d.email}),i.email&&r.a.createElement(A,null,i.email)),r.a.createElement("div",{className:"mb-3"},r.a.createElement(B,{name:"password",onChange:u,placeholder:"Password",value:d.password,type:"password"}),i.password&&r.a.createElement(A,null,i.password)),r.a.createElement(v,{fluid:!0,type:"submit"},"Log In")),r.a.createElement(o.b,{className:"link text-center mt-3",to:O.register},"Don't have an account? Sign up"))},W=function(){var e=Object(n.useContext)(R).setToken;return Object(n.useEffect)((function(){localStorage.clear(),e(null)}),[]),r.a.createElement(s.a,{to:O.login})},Z=function(e){var a=e.component,t=Object(d.a)(e,["component"]),l=Object(n.useContext)(R).token,c=Boolean(l);return r.a.createElement(s.b,Object.assign({},t,{render:function(e){return c?r.a.createElement(a,e):r.a.createElement(s.a,{to:O.login})}}))},z=function(e){var a=Object(n.useContext)(R),t=a.token,l=a.setToken,c=Object(T.a)({initialValues:{email:"",password:"",confirmPassword:""},onSubmit:function(){var a=Object(L.a)(_.a.mark((function a(t,n){var r,c,o,s;return _.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=n.setErrors,a.prev=1,a.next=4,N.post(C.register,{email:t.email,password:t.password});case 4:c=a.sent,localStorage.setItem("token",c.data.token),l(c.data.token),e.history.push(O.dashboard),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),r({confirmPassword:(null===a.t0||void 0===a.t0?void 0:null===(o=a.t0.response)||void 0===o?void 0:null===(s=o.data)||void 0===s?void 0:s.error)||"There was a problem with your registration, please try again"});case 13:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e,t){return a.apply(this,arguments)}}(),validateOnChange:!1,validationSchema:V.c({email:V.e().email("Please enter a valid email address").required("Email is required"),password:V.e().required("Password is required"),confirmPassword:V.e().required("Please confirm your password").when("password",{is:function(e){return!!(e&&e.length>0)},then:V.e().oneOf([V.d("password")],"Passwords do not match")})})}),i=c.errors,u=c.handleChange,m=c.handleSubmit,d=c.values;return t?r.a.createElement(s.a,{to:O.dashboard}):r.a.createElement(D,null,r.a.createElement("form",{onSubmit:m},r.a.createElement("div",{className:"mb-3"},r.a.createElement(B,{name:"email",onChange:u,placeholder:"Email",value:d.email}),i.email&&r.a.createElement(A,null,i.email)),r.a.createElement("div",{className:"mb-3"},r.a.createElement(B,{name:"password",onChange:u,placeholder:"Password",value:d.password,type:"password"}),i.password&&r.a.createElement(A,null,i.password)),r.a.createElement("div",{className:"mb-3"},r.a.createElement(B,{name:"confirmPassword",onChange:u,placeholder:"Confirm password",value:d.confirmPassword,type:"password"}),i.confirmPassword&&r.a.createElement(A,null,i.confirmPassword)),r.a.createElement(v,{fluid:!0,type:"submit"},"Register")),r.a.createElement(o.b,{className:"link text-center mt-3",to:O.login},"Already have an account? Log in"," "))},G=t(40),U=t(90),Y=function(e){var a={option:function(e,a){var t=a.isFocused,n=a.isSelected;return{color:n?"#f2f2f2":t?"#6eba7e":"inherit",backgroundColor:n?"#6eba7e":"inherit","&:hover":{backgroundColor:"#6eba7e",color:"#f2f2f2"},"&:active":{backgroundColor:"#6eba7e",color:"#f2f2f2"},padding:16}},control:function(e,a){var t=a.isSelected,n=a.isFocused;return Object(G.a)({},e,{paddingLeft:8,height:54,borderRadius:8,border:t||n?"solid 2px ".concat("#6eba7e"):"solid 2px transparent","&:hover":{borderColor:"#b3b3b3"},boxShadow:"none"})},placeholder:function(e){return Object(G.a)({},e,{color:"#757575"})}};return r.a.createElement(U.a,Object.assign({isSearchable:!1,styles:a,theme:function(e){return Object(G.a)({},e,{colors:Object(G.a)({},e.colors,{primary25:"#6eba7e",primary:"#6eba7e",neutral0:"#f2f2f2"})})}},e))},H=[{value:"4",label:"4 Iron"},{value:"5",label:"5 Iron"},{value:"6",label:"6 Iron"},{value:"7",label:"7 Iron"},{value:"8",label:"8 Iron"},{value:"9",label:"9 Iron"},{value:"PW",label:"Pitching Wedge"}],K=function(e){var a=Object(n.useState)(!1),t=Object(i.a)(a,2),l=t[0],c=t[1],o=Object(T.a)({initialValues:{club:null,distance:""},onSubmit:function(){var a=Object(L.a)(_.a.mark((function a(t){return _.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,N.post(C.shots,Object(G.a)({},t,{club:t.club.value}));case 3:c(!0),e.history.push(O.dashboard),a.next=9;break;case 7:a.prev=7,a.t0=a.catch(0);case 9:return a.prev=9,c(!1),a.finish(9);case 12:case"end":return a.stop()}}),a,null,[[0,7,9,12]])})));return function(e){return a.apply(this,arguments)}}(),validateOnChange:!1,validationSchema:V.c({club:V.a().required("Please select a club"),distance:V.b().required("Please enter a distance")})}),s=o.errors,u=o.handleChange,m=o.handleSubmit,d=o.setFieldValue,p=o.values;return l?r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(S,null)):r.a.createElement(x,null,r.a.createElement(b,{className:"p-4"},r.a.createElement("form",{onSubmit:m},r.a.createElement("div",{className:"mb-3"},r.a.createElement(Y,{name:"club",onChange:function(e){d("club",e)},options:H,placeholder:"Select a club",value:p.club}),s.club&&r.a.createElement(A,null,s.club)),r.a.createElement("div",{className:"mb-3"},r.a.createElement(B,{name:"distance",onChange:u,placeholder:"Distance",type:"number",value:p.distance}),s.distance&&r.a.createElement(A,null,s.distance)),r.a.createElement(v,{fluid:!0,type:"submit"},"Save"))))},Q=(t(129),function(){return r.a.createElement("a",{className:"gh-link",href:"https://github.com/daceynolan/icaddy-frontend","aria-label":"View source on Github"},r.a.createElement("svg",{className:"octo-img",width:"80",height:"80",viewBox:"0 0 250 250","aria-hidden":"true"},r.a.createElement("path",{d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"}),r.a.createElement("path",{className:"octo-arm",fill:"currentColor",d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"}),r.a.createElement("path",{className:"octo-body",fill:"currentColor",d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"})))}),X=function(){return r.a.createElement("div",null,r.a.createElement(Q,null),r.a.createElement(M,null,r.a.createElement(o.a,null,r.a.createElement(s.d,null,r.a.createElement(Z,{exact:!0,path:O.dashboard,component:I}),r.a.createElement(s.b,{path:O.register,component:z}),r.a.createElement(s.b,{path:O.login,component:J}),r.a.createElement(s.b,{path:O.logShot,component:K}),r.a.createElement(s.b,{path:O.logout,component:W})))))};t(130);c.a.render(r.a.createElement(X,null),document.getElementById("root"))},83:function(e,a,t){e.exports=t.p+"static/media/golf-flag.6c252a7a.svg"},85:function(e,a,t){e.exports=t.p+"static/media/iron.ca728989.svg"},91:function(e,a,t){e.exports=t(131)},96:function(e,a,t){},97:function(e,a,t){},98:function(e,a,t){},99:function(e,a,t){}},[[91,1,2]]]);
//# sourceMappingURL=main.6da8defd.chunk.js.map