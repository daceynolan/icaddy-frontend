(this["webpackJsonpicaddy-frontend"]=this["webpackJsonpicaddy-frontend"]||[]).push([[0],{117:function(e,a,t){},118:function(e,a,t){},123:function(e,a,t){},126:function(e,a,t){},127:function(e,a,t){},128:function(e,a,t){},129:function(e,a,t){},130:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(37),c=t.n(l),o=t(8),s=t(36),i=t(24),u=t(15),m=t.n(u),d=(t(96),t(10)),v=(t(97),function(e){var a=e.as,t=void 0===a?"button":a,n=e.className,l=e.fluid,c=e.shadow,o=e.type,s=void 0===o?"button":o,i=Object(d.a)(e,["as","className","fluid","shadow","type"]);return r.a.createElement(t,Object.assign({className:m()("button",{"button--fluid":l},{"button--shadow":c},n),type:s},i))}),p=(t(98),function(e){var a=e.className,t=Object(d.a)(e,["className"]);return r.a.createElement("div",Object.assign({className:m()("card border-0",a)},t))}),b=(t(99),function(e){var a=e.className,t=Object(d.a)(e,["className"]);return r.a.createElement("div",Object.assign({className:m()("container",a)},t))}),f=t(83),E=t.n(f),h=function(e){var a=e.as,t=void 0===a?"h1":a,n=Object(d.a)(e,["as"]);return r.a.createElement(t,n)},g=t(84),w=t.n(g).a.create({baseURL:"https://icaddy-dev.herokuapp.com"});w.interceptors.request.use((function(e){var a=localStorage.getItem("token");return a&&(e.headers.Authorization=a),e}),(function(e){return Promise.reject(e)}));var N=w,j=t(85),y=t.n(j),O=(t(117),t(118),function(){return r.a.createElement("nav",{className:"nav d-flex"},r.a.createElement(o.c,{activeClassName:"nav__link--active",className:"nav__link mr-2",to:"/"},"Dashboard"),r.a.createElement(o.c,{activeClassName:"nav__link--active",className:"nav__link",to:"/logout"},"Logout"))}),k=function(e){return r.a.createElement("div",{className:"layout"},r.a.createElement("div",{className:"layout__top-banner"},r.a.createElement(b,{className:"layout__nav pt-5"},r.a.createElement(O,null))),r.a.createElement(b,{className:"layout__content p-3 mb-3"},e.children))},x=(t(123),function(){return r.a.createElement("div",{className:"loader"},r.a.createElement("div",{className:"loader-spinner"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))}),S=t(19),C=t.n(S),P=t(29);var _=function(){return N.get("/shots/aggregate")},I=function(e){var a,t=function(e){var a=Object(n.useState)(),t=Object(i.a)(a,2),r=t[0],l=t[1],c=Object(n.useState)(),o=Object(i.a)(c,2),s=o[0],u=o[1],m=Object(n.useState)(!1),d=Object(i.a)(m,2),v=d[0],p=d[1];return Object(n.useEffect)((function(){var a=!1;return Object(P.a)(C.a.mark((function t(){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u(void 0),p(!0),t.prev=2,t.next=5,e();case 5:n=t.sent,a||l(n),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),a||u(t.t0);case 12:return t.prev=12,a||p(!1),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[2,9,12,15]])})))(),function(){a=!0}}),[e]),[r,{error:s,isLoading:v}]}(_),l=Object(i.a)(t,2),c=l[0],s=void 0===c?{}:c,u=l[1].isLoading,d=null===s||void 0===s?void 0:null===(a=s.data)||void 0===a?void 0:a.data,f=!!(null===d||void 0===d?void 0:d.length)&&!u;return r.a.createElement(k,null,r.a.createElement("div",{className:"pb-4 mb-5"},r.a.createElement(p,null,u?r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(x,null)):f?null===d||void 0===d?void 0:d.map((function(e,a){return r.a.createElement("div",{className:m()("d-flex align-items-center justify-content-between p-4 font-weight-bold",{"border-top":a>0}),key:e._id},r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement("img",{alt:"golf club",className:"img--iron mr-3",src:y.a}),r.a.createElement("span",{className:"text-nowrap"},e.long_name)),r.a.createElement("div",null,e.average,r.a.createElement("span",{className:"dashboard__units"}," yds")))})):r.a.createElement("div",{className:"text-center mt-3 p-4 p-md-5"},r.a.createElement("img",{className:"img--golf-flag",src:E.a,alt:"golf flag and ball"}),r.a.createElement("div",{className:"row justify-content-center my-4"},r.a.createElement("div",{className:"col-auto col-md-9"},r.a.createElement(h,{as:"h3",className:"mb-3"},"You haven't logged any shots, yet."))),r.a.createElement(v,{as:o.b,to:"/log-shot"},"Log Shot")))),r.a.createElement(b,{className:"pb-4 fixed-bottom"},f&&r.a.createElement(v,{as:o.b,to:"/log-shot",fluid:!0,shadow:!0},"Log shot")))},q=t(51),L=t(7),T=(t(126),function(e){var a=e.className,t=Object(d.a)(e,["className"]);return r.a.createElement("div",Object.assign({className:m()("form-error",a)},t))}),V=(t(127),function(e){var a=e.className,t=e.type,n=void 0===t?"text":t,l=Object(d.a)(e,["className","type"]);return r.a.createElement("input",Object.assign({className:m()("input",a),type:n},l))}),D=(t(128),function(e){return r.a.createElement("div",{className:"login-register-layout d-flex justify-content-center align-items-center p-3"},r.a.createElement("div",{className:"login-register-layout__content"},r.a.createElement(p,{className:"p-4"},e.children)))}),F=r.a.createContext({}),R=function(e){var a=Object(n.useState)(localStorage.getItem("token")),t=Object(i.a)(a,2),l=t[0],c=t[1];return r.a.createElement(F.Provider,{value:{token:l,setToken:c}},e.children)},A=F,B=function(e){var a=Object(n.useContext)(A),t=a.token,l=a.setToken,c=Object(q.a)({initialValues:{email:"",password:""},onSubmit:function(){var a=Object(P.a)(C.a.mark((function a(t,n){var r,c;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=n.setErrors,a.prev=1,a.next=4,N.post("/login",{email:t.email,password:t.password});case 4:c=a.sent,localStorage.setItem("token",c.data.token),l(c.data.token),e.history.push("/"),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),r({password:"There was a problem logging you in, please verify your email and password"});case 13:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e,t){return a.apply(this,arguments)}}(),validateOnChange:!1,validationSchema:L.c({email:L.e().email("Please enter a valid email address").required("Email is required"),password:L.e().required(" Password is required")})}),i=c.errors,u=c.handleChange,m=c.handleSubmit,d=c.values;return t?r.a.createElement(s.a,{to:"/"}):r.a.createElement(D,null,r.a.createElement("form",{onSubmit:m},r.a.createElement("div",{className:"mb-3"},r.a.createElement(V,{name:"email",onChange:u,placeholder:"Email",value:d.email}),i.email&&r.a.createElement(T,null,i.email)),r.a.createElement("div",{className:"mb-3"},r.a.createElement(V,{name:"password",onChange:u,placeholder:"Password",value:d.password,type:"password"}),i.password&&r.a.createElement(T,null,i.password)),r.a.createElement(v,{fluid:!0,type:"submit"},"Log In")),r.a.createElement(o.b,{className:"link text-center mt-3",to:"/register"},"Don't have an account? Sign up"))},J=function(){var e=Object(n.useContext)(A).setToken;return Object(n.useEffect)((function(){localStorage.clear(),e(null)}),[]),r.a.createElement(s.a,{to:"/login"})},W=function(e){var a=e.component,t=Object(d.a)(e,["component"]),l=Object(n.useContext)(A).token,c=Boolean(l);return r.a.createElement(s.b,Object.assign({},t,{render:function(e){return c?r.a.createElement(a,e):r.a.createElement(s.a,{to:"/login"})}}))},z=function(e){var a=Object(n.useContext)(A),t=a.token,l=a.setToken,c=Object(q.a)({initialValues:{email:"",password:"",confirmPassword:""},onSubmit:function(){var a=Object(P.a)(C.a.mark((function a(t,n){var r,c,o,s;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=n.setErrors,a.prev=1,a.next=4,N.post("/register",{email:t.email,password:t.password});case 4:c=a.sent,localStorage.setItem("token",c.data.token),l(c.data.token),e.history.push("/"),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),r({confirmPassword:(null===a.t0||void 0===a.t0?void 0:null===(o=a.t0.response)||void 0===o?void 0:null===(s=o.data)||void 0===s?void 0:s.error)||"There was a problem with your registration, please try again"});case 13:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e,t){return a.apply(this,arguments)}}(),validateOnChange:!1,validationSchema:L.c({email:L.e().email("Please enter a valid email address").required("Email is required"),password:L.e().required(" Password is required"),confirmPassword:L.e().when("password",{is:function(e){return!!(e&&e.length>0)},then:L.e().oneOf([L.d("password")],"Passwords do not match")})})}),i=c.errors,u=c.handleChange,m=c.handleSubmit,d=c.values;return t?r.a.createElement(s.a,{to:"/"}):r.a.createElement(D,null,r.a.createElement("form",{onSubmit:m},r.a.createElement("div",{className:"mb-3"},r.a.createElement(V,{name:"email",onChange:u,placeholder:"Email",value:d.email}),i.email&&r.a.createElement(T,null,i.email)),r.a.createElement("div",{className:"mb-3"},r.a.createElement(V,{name:"password",onChange:u,placeholder:"Password",value:d.password,type:"password"}),i.password&&r.a.createElement(T,null,i.password)),r.a.createElement("div",{className:"mb-3"},r.a.createElement(V,{name:"confirmPassword",onChange:u,placeholder:"Confirm password",value:d.confirmPassword,type:"password"}),i.confirmPassword&&r.a.createElement(T,null,i.confirmPassword)),r.a.createElement(v,{fluid:!0,type:"submit"},"Register")),r.a.createElement(o.b,{className:"link text-center mt-3",to:"/login"},"Already have an account? Log in"," "))},U=t(40),Y=[{value:"4",label:"4 Iron"},{value:"5",label:"5 Iron"},{value:"6",label:"6 Iron"},{value:"7",label:"7 Iron"},{value:"8",label:"8 Iron"},{value:"9",label:"9 Iron"},{value:"PW",label:"Pitching Wedge"}],G=t(90),H=function(e){var a={option:function(e,a){var t=a.isFocused,n=a.isSelected;return{color:n?"#f2f2f2":t?"#6eba7e":"inherit",backgroundColor:n?"#6eba7e":"inherit","&:hover":{backgroundColor:"#6eba7e",color:"#f2f2f2"},"&:active":{backgroundColor:"#6eba7e",color:"#f2f2f2"},padding:16}},control:function(e,a){var t=a.isSelected,n=a.isFocused;return Object(U.a)({},e,{paddingLeft:8,height:54,borderRadius:8,border:t||n?"solid 2px ".concat("#6eba7e"):"solid 2px transparent","&:hover":{borderColor:"#b3b3b3"},boxShadow:"none"})},placeholder:function(e){return Object(U.a)({},e,{color:"#757575"})}};return r.a.createElement(G.a,Object.assign({isSearchable:!1,styles:a,theme:function(e){return Object(U.a)({},e,{colors:Object(U.a)({},e.colors,{primary25:"#6eba7e",primary:"#6eba7e",neutral0:"#f2f2f2"})})}},e))},K=function(e){var a=Object(n.useState)(!1),t=Object(i.a)(a,2),l=t[0],c=t[1],o=Object(q.a)({initialValues:{club:null,distance:""},onSubmit:function(){var a=Object(P.a)(C.a.mark((function a(t){return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,N.post("/shots",Object(U.a)({},t,{club:t.club.value}));case 3:c(!0),e.history.push("/"),a.next=9;break;case 7:a.prev=7,a.t0=a.catch(0);case 9:return a.prev=9,c(!1),a.finish(9);case 12:case"end":return a.stop()}}),a,null,[[0,7,9,12]])})));return function(e){return a.apply(this,arguments)}}(),validateOnChange:!1,validationSchema:L.c({club:L.a().required("Please select a club"),distance:L.b().required("Please enter a distance")})}),s=o.errors,u=o.handleChange,m=o.handleSubmit,d=o.setFieldValue,b=o.values;return l?r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(x,null)):r.a.createElement(k,null,r.a.createElement(p,{className:"p-4"},r.a.createElement("form",{onSubmit:m},r.a.createElement("div",{className:"mb-3"},r.a.createElement(H,{name:"club",onChange:function(e){d("club",e)},options:Y,placeholder:"Select a club",value:b.club}),s.club&&r.a.createElement(T,null,s.club)),r.a.createElement("div",{className:"mb-3"},r.a.createElement(V,{name:"distance",onChange:u,placeholder:"Distance",type:"number",value:b.distance}),s.distance&&r.a.createElement(T,null,s.distance)),r.a.createElement(v,{fluid:!0,type:"submit"},"Save"))))},M=function(){return r.a.createElement(R,null,r.a.createElement(o.a,null,r.a.createElement(s.d,null,r.a.createElement(W,{exact:!0,path:"/",component:I}),r.a.createElement(s.b,{path:"/register",component:z}),r.a.createElement(s.b,{path:"/login",component:B}),r.a.createElement(s.b,{path:"/log-shot",component:K}),r.a.createElement(s.b,{path:"/logout",component:J}))))};t(129);c.a.render(r.a.createElement(M,null),document.getElementById("root"))},83:function(e,a,t){e.exports=t.p+"static/media/golf-flag.6c252a7a.svg"},85:function(e,a,t){e.exports=t.p+"static/media/iron.ca728989.svg"},91:function(e,a,t){e.exports=t(130)},96:function(e,a,t){},97:function(e,a,t){},98:function(e,a,t){},99:function(e,a,t){}},[[91,1,2]]]);
//# sourceMappingURL=main.89c0db2d.chunk.js.map